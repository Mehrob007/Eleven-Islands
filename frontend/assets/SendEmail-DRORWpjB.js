import{G as u,r as x,j as s,L as h,g as j}from"./index-IytR3YjZ.js";function g(n){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}const v=n=>{const[t,r]=x.useState(window.matchMedia(n).matches);return x.useEffect(()=>{const c=window.matchMedia(n),e=()=>r(c.matches);return c.addEventListener("change",e),()=>c.removeEventListener("change",e)},[n]),t};function b({arrDataImg:n}){const[t,r]=x.useState(null);return s.jsx("div",{className:"box2",children:s.jsxs("div",{className:"contentBox2",children:[s.jsx("h2",{className:"sr-only",children:"Products"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-[10px] gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",style:{gap:v("(max-width: 1020px)")&&"15px 5px"},children:n.length>0?n==null?void 0:n.map((e,l)=>{var a,d,i;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"itemBox2 aspect-h-1 mx-auto aspect-w-1 xl:aspect-h-8 xl:aspect-w-7 relative",children:[s.jsx(h,{to:`/product/${e==null?void 0:e.id}`,onMouseEnter:()=>r(l),onMouseLeave:()=>r(null),children:s.jsx("div",{className:"itemImgProduct aspect-h-1 aspect-w-1 w-full overflow-hidden bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",style:{background:`url('${t!==l?e==null?void 0:e.images[0].src:(d=(a=e==null?void 0:e.images)==null?void 0:a[1])==null?void 0:d.src}') center / 100% 100% no-repeat`}})},e==null?void 0:e.id),s.jsx("div",{className:"color-product",children:(i=e==null?void 0:e.attributes.find(o=>(o==null?void 0:o.product_attribute_id)==1))==null?void 0:i.attribute_values.map((o,p)=>s.jsx("div",{style:{border:"1px solid",padding:"1px",borderColor:e.id==o.name.split("|")[1]?"#000":"transparent"},children:s.jsx("nav",{onClick:()=>{document.location.href=`/product/${o.name.split("|")[1]}`},style:{background:o.name.split("|")[0]}})},p))}),s.jsxs("div",{className:"itemInfoProduct",children:[s.jsx("h1",{className:"productTitle",children:e==null?void 0:e.short_description}),s.jsxs("h1",{className:"productPrice",children:[e==null?void 0:e.price," ",s.jsx("span",{style:{fontFamily:"font-book, sans-serif"},children:"₽"})]})]}),s.jsx(h,{to:`/product/${e==null?void 0:e.id}`,children:s.jsxs("label",{className:"add-product-btn",children:[s.jsx("input",{type:"checkbox",id:"checkbox2"}),s.jsx("span",{className:"custom-checkbox",children:s.jsx(g,{})})]})})]},l)})}):s.jsx("h1",{children:"Loading..."})})]})})}function f(){const[n,t]=x.useState(""),[r,c]=x.useState(""),e=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),l=async a=>{if(a.preventDefault(),!e(n))c("Введите корректный email!");else{c("");const d=localStorage.getItem("token");try{const i=await j.post(`news_letter_subscriptions/${n}/deactivate`,{},{headers:{Authorization:`Bearer ${d}`}});t("")}catch(i){console.error(i)}}};return s.jsxs("div",{className:"sendEmail",children:[s.jsxs("div",{className:"sendEmailTop",children:[s.jsx("h1",{children:"Скоро новый дроп"}),s.jsx("p",{children:"Хочешь узнавать о всех новинках первый?"}),s.jsx("p",{children:"Подпишись на рассылку!"})]}),s.jsxs("form",{onSubmit:l,className:"sendEmailForm",children:[s.jsx("input",{type:"email",id:"email",onChange:a=>t(a.target.value.trim()),name:"email",placeholder:"Введите e-mail"}),r.length>0&&s.jsx("p",{className:"error-p-send-email",style:{position:"absolute",color:"red"},children:r}),s.jsx("button",{type:"submit",children:"Подписаться"})]})]})}export{b as B,f as S};
