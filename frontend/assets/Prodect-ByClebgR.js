import{G as U,j as t,k as os,l as cs,r,a as ns,e as ds,L as R}from"./index-IytR3YjZ.js";import{B as ls,S as us}from"./SendEmail-DRORWpjB.js";import{u as Z}from"./store-BCBQ6itN.js";import{S as ps}from"./index-BqX_ZGt1.js";import{H as hs,T as Q,C as Y}from"./Helmet-BU1_cWNg.js";const xs="/assets/NewCollection-Dir2tLfr.svg",q="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.125%202.81982L16%200.944824L21%205.94482L6%2020.9448L1%2015.9448L2.875%2014.0698M14.125%202.81982L2.875%2014.0698M14.125%202.81982L8.5%208.44482M8.5%208.44482L10.5%2010.4448M8.5%208.44482L2.875%2014.0698M3.5%2013.4448L5.5%2015.4448M6%2010.9448L9%2013.9448M11%205.94482L14%208.94482M13.5%203.44482L15.5%205.44482'%20stroke='%23262626'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";function J(o){return U({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128Z"},child:[]}]})(o)}function K(o){return U({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},child:[]}]})(o)}function ms({img:o,setImg:n}){return t.jsx("div",{onClick:()=>n({open:!1,img:null}),className:"ImageCom",children:t.jsx("img",{src:o,alt:"img"})})}const j=o=>{const[n,s]=r.useState(window.matchMedia(o).matches);return r.useEffect(()=>{const u=window.matchMedia(o),c=()=>s(u.matches);return u.addEventListener("change",c),()=>u.removeEventListener("change",c)},[o]),n};function Ns(){var I,M,P,f,z;const o=os(),{id:n}=cs(),{findeElement:s,findeProduct:u}=Z(),[c,v]=r.useState(null),[gs,N]=r.useState(()=>localStorage.getItem("colorVibor")||""),[b,W]=r.useState(!0),[y,E]=r.useState(!1),{dataGelary:ss,setDataGelary:ts}=ns(),is=["XXS","XS","S","L","XL","XXL"],[p,es]=r.useState([]),{photos:S,fetchPhotos:js}=Z(),[m,w]=r.useState(p[0]),[k,C]=r.useState({open:!1,img:null});r.useEffect(()=>{var i;p.length>0&&(w(p[0]),N((i=s==null?void 0:s.attributes.find(e=>e.product_attribute_id==1))==null?void 0:i.attribute_values[0].name))},[p,s]);const as=()=>{W(!b)};r.useEffect(()=>{u(n);const e=document.getElementById("topSity").getBoundingClientRect().top+window.scrollY;window.scrollTo({top:e-100,behavior:"smooth"})},[n]),r.useEffect(()=>{var i;if(s!=null&&s.attributes){const e=[];(i=s==null?void 0:s.attributes.find(l=>(l==null?void 0:l.product_attribute_id)==2))==null||i.attribute_values.map(l=>{e.push(l.name)}),es(e)}},[s==null?void 0:s.attributes]);const L=i=>{ts([...ss,{id:i,title:s==null?void 0:s.name,name:s==null?void 0:s.short_description,price:s==null?void 0:s.price,size:m,count:c,titleImg:s.images[0],countPrice:s==null?void 0:s.price}]),o("/products/all")},g="1020px",rs={className:"slider1 product-gelary variable-width-menu",dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},_=ds(),d={title:s==null?void 0:s.meta_title,description:s==null?void 0:s.meta_keywords,url:_==null?void 0:_.pathname,image:(M=(I=s==null?void 0:s.images)==null?void 0:I[0])==null?void 0:M.src,siteName:"ELEVEN ISLANDS",keywords:s==null?void 0:s.meta_descriptioт};return r.useEffect(()=>{var i,e,l,D,V,B,T,H,G,O,X,$,A,F;(T=(B=(V=(D=(l=(e=(i=s==null?void 0:s.attributes)==null?void 0:i.find(a=>(a==null?void 0:a.product_attribute_id)==1))==null?void 0:e.attribute_values)==null?void 0:l.filter(a=>{var h,x;return((x=(h=a==null?void 0:a.name)==null?void 0:h.split("|"))==null?void 0:x[1])===n}))==null?void 0:D[0])==null?void 0:V.name)==null?void 0:B.split("|"))!=null&&T[0]&&localStorage.setItem("colorVibor",(F=(A=($=(X=(O=(G=(H=s==null?void 0:s.attributes)==null?void 0:H.find(a=>(a==null?void 0:a.product_attribute_id)==1))==null?void 0:G.attribute_values)==null?void 0:O.filter(a=>{var h,x;return((x=(h=a==null?void 0:a.name)==null?void 0:h.split("|"))==null?void 0:x[1])===n}))==null?void 0:X[0])==null?void 0:$.name)==null?void 0:A.split("|"))==null?void 0:F[0])},[s]),console.log(c),t.jsxs(t.Fragment,{children:[t.jsxs(hs,{children:[t.jsx("meta",{property:"og:title",content:d.title}),t.jsx("meta",{property:"og:description",content:d.description}),t.jsx("meta",{property:"og:url",content:d.url}),t.jsx("meta",{property:"og:image",content:d.image}),t.jsx("meta",{property:"og:site_name",content:d.siteName}),t.jsx("meta",{name:"description",content:d.description}),t.jsx("meta",{name:"keywords",content:d.keywords}),t.jsx("title",{children:d.title})]}),s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"contectProductId",id:"topSity",children:[j(`(min-width: ${g})`)&&t.jsx("div",{className:"contectProductId__img",children:s.images&&(s==null?void 0:s.images.map((i,e)=>t.jsx("img",{onClick:()=>C({open:!0,img:i.src}),src:i.src,alt:"imgProduct"},e)))}),j(`(max-width: ${g})`)&&t.jsx("div",{className:"contectProductId_phone",children:t.jsx(ps,{...rs,children:(P=s==null?void 0:s.images)==null?void 0:P.map((i,e)=>(console.log(i.src),t.jsx("img",{className:"img_phone_items",src:i.src,alt:"imgProduct"},e)))})}),t.jsxs("div",{className:"contectProductId__info",children:[t.jsxs("div",{className:"header-div-product",children:[t.jsx("img",{src:xs,alt:"NewCollection"}),t.jsxs("div",{style:{width:"300px"},children:[t.jsx("h1",{children:s==null?void 0:s.name}),t.jsx("p",{children:s==null?void 0:s.short_description})]}),t.jsxs("div",{className:"price-product",children:[s.old_price!=0&&t.jsxs("h4",{className:"skitka",children:[" ",t.jsxs(t.Fragment,{children:[s==null?void 0:s.old_price," ₽"]})]}),t.jsxs("h4",{children:[t.jsx("span",{children:s==null?void 0:s.price})," ₽"]})]})]}),t.jsxs("div",{className:"color-div-product",children:[t.jsx("h1",{children:"Другие цвета"}),t.jsx("div",{children:(s==null?void 0:s.attributes)&&((f=s==null?void 0:s.attributes.find(i=>i.product_attribute_id==1))==null?void 0:f.attribute_values.map((i,e)=>t.jsx(R,{to:`/product/${i.name.split("|")[1]}`,style:{borderColor:localStorage.getItem("colorVibor")==i.name.split("|")[0]&&"#000"},children:t.jsx("nav",{onClick:()=>{localStorage.setItem("colorVibor",i.name.split("|")[0]),N(i.name.split("|")[0])},style:{background:i.name.split("|")[0]}})},e)))})]}),t.jsxs("div",{className:"size-div-product",children:[t.jsxs("nav",{className:"size-div-product-nav",children:[t.jsx("h1",{children:"Размер"}),j(`(max-width: ${g})`)&&t.jsxs("p",{children:[t.jsx("img",{src:q,alt:"lineyka"})," Размерная сетка"]})]}),t.jsxs("div",{children:[(s==null?void 0:s.attributes)&&((z=s==null?void 0:s.attributes.find(i=>(i==null?void 0:i.product_attribute_id)==2))==null?void 0:z.attribute_values.map((i,e)=>t.jsx("nav",{className:i.quantity==0&&"size-none",onClick:()=>{i.quantity!=0&&w(i.name)},style:{background:i.name==m&&"#408759",color:i.name==m&&"#fff",borderColor:i.name==m&&"transparent"},children:i.name},e))),(s==null?void 0:s.attributes)&&is.filter(i=>!p.includes(i)).map(i=>t.jsx("nav",{className:"size-none",children:i},i))]}),j(`(min-width: ${g})`)&&t.jsxs("p",{children:[t.jsx("img",{src:q,alt:"lineyka"})," Размерная сетка"]})]}),t.jsxs("div",{className:"button-div-product",children:[t.jsx("button",{className:"add-to-basket button-product",onClick:()=>{c&&L(s.id),v(1)},children:"Добавить в корзину"}),t.jsx(R,{onClick:()=>{L(s.id)},to:"/placing-an-order",className:"on-click-buy button-product",children:"Купить в один клик"})]}),c&&t.jsxs("div",{className:"add-to-basket button-product count-product",children:[t.jsx("button",{onClick:()=>{if(c>1)return v(c-1)},children:"-"}),t.jsx("span",{children:c}),t.jsx("button",{onClick:()=>v(c+1),children:"+"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",gap:"20px "},children:[t.jsxs("div",{className:"dop-info-product",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:as,children:[t.jsx("h2",{style:{margin:0},children:"Описание"}),t.jsx("span",{style:{fontSize:"24px"},children:b?t.jsx(J,{}):t.jsx(K,{})})]}),t.jsx(Q,{style:{height:"auto"},children:b&&t.jsx(Y,{timeout:300,classNames:"fade",children:t.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:t.jsx("div",{style:{fontSize:"12px"},dangerouslySetInnerHTML:{__html:s==null?void 0:s.full_description}})})})})]}),t.jsxs("div",{className:"dop-info-product",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>E(!y),children:[t.jsx("h2",{style:{margin:0},children:"Доставка и возврат"}),t.jsx("span",{style:{fontSize:"24px"},children:y?t.jsx(J,{}):t.jsx(K,{})})]}),t.jsx(Q,{style:{height:"auto"},children:y&&t.jsx(Y,{timeout:300,classNames:"fade",children:t.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:t.jsx("div",{style:{fontSize:12},children:'Стандартная доставка занимает 3-7 рабочих дней. Экспресс-доставка возможна за дополнительную плату и займет 1-3 рабочих дня. Вернуть или обменять товары возможно в течение 14 дней с момента получения заказа. Подробности о возвратах и обменах можно найти на нашей странице "Возвраты и обмены"'})})})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"header headerBox2 headerBoxProbucts",style:{marginTop:"60px"},children:[t.jsx("div",{className:"headerCom1",children:t.jsx("h1",{children:"Дополни свой образ"})}),t.jsx("div",{className:"headerCom2"})]}),t.jsx(ls,{arrDataImg:S==null?void 0:S.filter((i,e)=>e<9&&e>4)}),t.jsx(us,{})]})]}),k.open&&t.jsx(ms,{img:k.img,setImg:C})]})}export{Ns as default};
