import{G as ss,j as t,k as rs,l as es,r as l,a as ls,e as ds,L as F}from"./index-Do-YQzoz.js";import{B as ns,S as ps}from"./SendEmail-Bu10Njzi.js";import{u as Q}from"./store-BgbrUQjX.js";import{S as hs}from"./index-DqdQNiOD.js";import{H as us,T as U,C as Y}from"./Helmet-B_e-HxIw.js";const xs="/assets/NewCollection-Dir2tLfr.svg",q="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.125%202.81982L16%200.944824L21%205.94482L6%2020.9448L1%2015.9448L2.875%2014.0698M14.125%202.81982L2.875%2014.0698M14.125%202.81982L8.5%208.44482M8.5%208.44482L10.5%2010.4448M8.5%208.44482L2.875%2014.0698M3.5%2013.4448L5.5%2015.4448M6%2010.9448L9%2013.9448M11%205.94482L14%208.94482M13.5%203.44482L15.5%205.44482'%20stroke='%23262626'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",J="/assets/popup-pc-D_d-EnG2.svg",K="data:image/svg+xml,%3csvg%20width='68'%20height='20'%20viewBox='0%200%2068%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='68'%20height='20'%20rx='4'%20fill='black'/%3e%3cg%20clip-path='url(%23clip0_228_3480)'%3e%3cpath%20d='M15.9392%206H14.6044V12.7689H15.9392V6Z'%20fill='white'/%3e%3cpath%20d='M13.0711%206.37876H11.7363V13.1475H13.0711V6.37876Z'%20fill='white'/%3e%3cpath%20d='M10.203%206.80162H8.86814V13.5716H10.203V6.80162Z'%20fill='white'/%3e%3cpath%20d='M7.33482%207.22917H6L6.00001%2014H7.33482L7.33482%207.22917Z'%20fill='white'/%3e%3cpath%20d='M51.194%209.60607L49.0447%207.21646H47.7882V12.7492H49.1001V9.21922L51.0623%2011.3106H51.3047L53.2332%209.21922V12.7492H54.5451V7.21646H53.2886L51.194%209.60607Z'%20fill='white'/%3e%3cpath%20d='M60.795%207.21646L57.5435%2010.8126V7.21646H56.2316V12.7492H57.4335L60.685%209.15313V12.7492H61.9969V7.21646H60.795Z'%20fill='white'/%3e%3cpath%20d='M40.7222%209.24098C40.7222%2010.1219%2041.2039%2010.8158%2041.9433%2011.1067L40.5568%2012.7492H42.1625L43.4238%2011.255H44.7886V12.7492H46.1005V7.21646H42.7606C41.5154%207.21646%2040.7222%208.06834%2040.7222%209.24098ZM44.7895%208.43504V10.0711H43.0039C42.4082%2010.0711%2042.0886%209.73905%2042.0886%209.25226C42.0886%208.76548%2042.4194%208.43343%2043.0039%208.43343L44.7895%208.43504Z'%20fill='white'/%3e%3cpath%20d='M34.626%208.32302C34.5457%2010.2258%2034.1443%2011.4541%2033.3583%2011.4541H33.1616V12.7823L33.3712%2012.7936C34.9472%2012.8814%2035.8183%2011.4984%2035.9612%208.47776H38.0341V12.7492H39.3436V7.21646H34.6702L34.626%208.32302Z'%20fill='white'/%3e%3cpath%20d='M29.6877%207.13916C27.9134%207.13916%2026.6369%208.36741%2026.6369%209.98251C26.6369%2011.6532%2028.0258%2012.838%2029.6877%2012.838C31.4187%2012.838%2032.7635%2011.5871%2032.7635%209.98251C32.7635%208.37789%2031.4187%207.13916%2029.6877%207.13916ZM29.6877%2011.5098C28.685%2011.5098%2028.0017%2010.857%2028.0017%209.98251C28.0017%209.08631%2028.6858%208.45123%2029.6877%208.45123C30.6897%208.45123%2031.3962%209.11532%2031.3962%209.98251C31.3962%2010.8497%2030.6801%2011.5098%2029.6877%2011.5098Z'%20fill='white'/%3e%3cpath%20d='M25.2456%207.2269H20.6155L20.5713%208.33345C20.5055%209.9276%2020.0896%2011.4436%2019.3036%2011.4653L18.9399%2011.4766V13.9998L20.263%2013.9971V12.75H24.8594V13.9971H26.1937V11.4653H25.2456V7.2269ZM23.9337%2011.4653H21.1341C21.6078%2010.7464%2021.8615%209.70597%2021.9057%208.489H23.9337V11.4653Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_228_3480'%3e%3crect%20width='56'%20height='8'%20fill='white'%20transform='translate(6%206)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",W="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_228_3482'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='16'%20height='16'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12.5%208L6.65782%202L5.31564%203.42335L9.81564%208L5.31564%2012.5766L6.65782%2014L12.5%208Z'%20fill='black'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_228_3482)'%3e%3crect%20width='16'%20height='16'%20fill='%23C7C9CC'/%3e%3c/g%3e%3c/svg%3e",gs="/assets/DalymiImgMobile-pQ3GQRNY.svg",ms="/assets/DalymiImgPc-lRzGVaL1.svg";function X(a){return ss({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128Z"},child:[]}]})(a)}function E(a){return ss({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},child:[]}]})(a)}function js({img:a,setImg:s,element:o}){return console.log(o),t.jsx("div",{onClick:()=>s({open:!1,img:null}),className:"ImageCom",children:o?t.jsxs("div",{children:[t.jsx("img",{src:a,alt:"img"}),t.jsxs("div",{className:"ImageComDiv",children:[t.jsxs("div",{children:[o==null?void 0:o.priceDalymi," ₽"]}),t.jsxs("div",{children:[o==null?void 0:o.priceDalymi," ₽"]}),t.jsxs("div",{children:[o==null?void 0:o.priceDalymi," ₽"]}),t.jsxs("div",{children:[o==null?void 0:o.priceDalymi," ₽"]})]})]}):t.jsx("img",{src:a,alt:"img"})})}const w=a=>{const[s,o]=l.useState(window.matchMedia(a).matches);return l.useEffect(()=>{const r=window.matchMedia(a),p=()=>o(r.matches);return r.addEventListener("change",p),()=>r.removeEventListener("change",p)},[a]),s};function Vs(){var _,f,Z,z;rs();const{id:a}=es(),{findeElement:s,findeProduct:o}=Q(),[r,p]=l.useState(null),[vs,M]=l.useState(()=>localStorage.getItem("colorVibor")||"");console.log("===================================="),console.log("findeElement",s),console.log("====================================");const[L,ts]=l.useState(!0),[V,is]=l.useState(!1),{dataGelary:b,setDataGelary:H}=ls(),[C,cs]=l.useState([]),{photos:N,fetchPhotos:ys}=Q(),[x,D]=l.useState(C[0]),[I,h]=l.useState({open:!1,img:null,element:{}});l.useEffect(()=>{var i;C.length>0&&(D(C[0]),M((i=s==null?void 0:s.attributes.find(c=>c.productAttributeId==1))==null?void 0:i.attributeValues[0].name))},[C,s]);const as=()=>{ts(!L)};l.useEffect(()=>{o(a);const c=document.getElementById("topSity").getBoundingClientRect().top+window.scrollY;window.scrollTo({top:c-100,behavior:"smooth"})},[a]),l.useEffect(()=>{var i;if(s!=null&&s.attributes){const c=[];(i=s==null?void 0:s.attributes.find(d=>(d==null?void 0:d.productAttributeId)==2))==null||i.attributeValues.map(d=>{c.push(d.name)}),cs(c)}},[s==null?void 0:s.attributes]);const P=(i,c)=>{var m,j;const d=b.find(u=>u.id===a);if(d){const u=b.filter(k=>k.id!==d.id);H([...u,{...d,count:r||1,countPrice:d.price*r}])}else c&&H([...b,{id:a,title:s==null?void 0:s.name,name:s==null?void 0:s.shortDescription,price:s==null?void 0:s.price,size:x,count:1,titleImg:(m=s==null?void 0:s.images)==null?void 0:m[0],countPrice:s==null?void 0:s.price}]),r&&H([...b,{id:a,title:s==null?void 0:s.name,name:s==null?void 0:s.shortDescription,price:s==null?void 0:s.price,size:x,count:r||1,titleImg:(j=s==null?void 0:s.images)==null?void 0:j[0],countPrice:s==null?void 0:s.price}])};l.useEffect(()=>{r&&P()},[r]);const g="1020px",os={className:"slider1 product-gelary variable-width-menu",dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1},S=ds(),n={title:s==null?void 0:s.meta_title,description:s==null?void 0:s.meta_keywords,url:S==null?void 0:S.pathname,image:(_=s==null?void 0:s.images)==null?void 0:_[0],siteName:"ELEVEN ISLANDS",keywords:s==null?void 0:s.meta_descriptioт};return l.useEffect(()=>{var i,c,d,m,j,u,k,B,G,A,T,O,R,$;(k=(u=(j=(m=(d=(c=(i=s==null?void 0:s.attributes)==null?void 0:i.find(e=>(e==null?void 0:e.productAttributeId)==1))==null?void 0:c.attributeValues)==null?void 0:d.filter(e=>{var v,y;return((y=(v=e==null?void 0:e.name)==null?void 0:v.split("|"))==null?void 0:y[1])===a}))==null?void 0:m[0])==null?void 0:j.name)==null?void 0:u.split("|"))!=null&&k[0]&&localStorage.setItem("colorVibor",($=(R=(O=(T=(A=(G=(B=s==null?void 0:s.attributes)==null?void 0:B.find(e=>(e==null?void 0:e.productAttributeId)==1))==null?void 0:G.attributeValues)==null?void 0:A.filter(e=>{var v,y;return((y=(v=e==null?void 0:e.name)==null?void 0:v.split("|"))==null?void 0:y[1])===a}))==null?void 0:T[0])==null?void 0:O.name)==null?void 0:R.split("|"))==null?void 0:$[0])},[s]),console.log(r),t.jsxs(t.Fragment,{children:[t.jsxs(us,{children:[t.jsx("meta",{property:"og:title",content:n.title}),t.jsx("meta",{property:"og:description",content:n.description}),t.jsx("meta",{property:"og:url",content:n.url}),t.jsx("meta",{property:"og:image",content:n.image}),t.jsx("meta",{property:"og:site_name",content:n.siteName}),t.jsx("meta",{name:"description",content:n.description}),t.jsx("meta",{name:"keywords",content:n.keywords}),t.jsx("title",{children:n.title})]}),s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"contectProductId",id:"topSity",children:[w(`(min-width: ${g})`)&&t.jsx("div",{className:"contectProductId__img",children:s.images&&(s==null?void 0:s.images.map((i,c)=>t.jsx("img",{onClick:()=>h({open:!0,img:i}),src:i,alt:"imgProduct"},c)))}),w(`(max-width: ${g})`)&&t.jsx("div",{className:"contectProductId_phone",children:t.jsx(hs,{...os,children:(f=s==null?void 0:s.images)==null?void 0:f.map((i,c)=>(console.log(i),t.jsx("img",{className:"img_phone_items",src:i,alt:"imgProduct"},c)))})}),t.jsxs("div",{className:"contectProductId__info",children:[t.jsxs("div",{className:"header-div-product",children:[(s==null?void 0:s.NewCollection)&&t.jsx("img",{src:xs,alt:"NewCollection"}),t.jsx("div",{style:{width:"300px"},children:t.jsx("h1",{children:s==null?void 0:s.shortDescription})}),t.jsxs("div",{className:"price-product ",children:[s.discount!=0&&t.jsxs("h4",{className:"skitka",children:[" ",t.jsxs(t.Fragment,{children:[s==null?void 0:s.price," ₽"]})]}),t.jsxs("h4",{children:[t.jsx("span",{children:s.discount!=0?s==null?void 0:s.discount:s==null?void 0:s.price})," ₽"]})]})]}),w(`(max-width: ${g})`)?t.jsxs("div",{className:"block-dalymi",onClick:()=>h({open:!0,img:gs,element:{priceDalymi:(s==null?void 0:s.price)/4,phone:!0}}),children:[t.jsxs("div",{children:[t.jsx("img",{src:K,alt:"dalymiIcon"}),t.jsxs("p",{children:["4 платежа по ",(s==null?void 0:s.price)/4," ₽"]})]}),t.jsx("img",{src:W,alt:"iconRightButtonDalymi"})]}):t.jsxs("div",{className:"block-dalymi",onClick:()=>h({open:!0,img:ms,element:{priceDalymi:(s==null?void 0:s.price)/4,type:!0}}),children:[t.jsxs("div",{children:[t.jsx("img",{src:K,alt:"dalymiIcon"}),t.jsxs("p",{children:["4 платежа по ",(s==null?void 0:s.price)/4," ₽"]})]}),t.jsx("img",{src:W,alt:"iconRightButtonDalymi"})]}),t.jsxs("div",{className:"color-div-product",children:[t.jsx("h1",{children:"Другие цвета"}),t.jsx("div",{children:(s==null?void 0:s.attributes)&&((Z=s==null?void 0:s.attributes.find(i=>i.productAttributeId==1))==null?void 0:Z.attributeValues.map((i,c)=>t.jsx(F,{to:`/product/${i.name.split("|")[1]}`,style:{borderColor:localStorage.getItem("colorVibor")==i.name.split("|")[0]&&"#000"},children:t.jsx("nav",{onClick:()=>{localStorage.setItem("colorVibor",i.name.split("|")[0]),M(i.name.split("|")[0])},style:{background:"#"+i.name.split("|")[0]}})},c)))})]}),t.jsxs("div",{className:"size-div-product",children:[t.jsxs("nav",{className:"size-div-product-nav",children:[t.jsx("h1",{children:"Размер"}),w(`(max-width: ${g})`)&&t.jsxs("p",{style:{cursor:"pointer"},onClick:()=>h({open:!0,img:J}),children:[t.jsx("img",{src:q,alt:"lineyka"})," Размерная сетка"]})]}),t.jsx("div",{children:(s==null?void 0:s.attributes)&&((z=s==null?void 0:s.attributes.find(i=>(i==null?void 0:i.productAttributeId)==2))==null?void 0:z.attributeValues.map((i,c)=>t.jsx("nav",{className:i.quantity==0&&"size-none",onClick:()=>{i.quantity!=0&&D(i.name)},style:{background:i.name==x&&"#408759",color:i.name==x&&"#fff",borderColor:i.name==x&&"transparent"},children:i.name},c)))}),w(`(min-width: ${g})`)&&t.jsxs("p",{style:{cursor:"pointer"},onClick:()=>h({open:!0,img:J}),children:[t.jsx("img",{src:q,alt:"lineyka"})," Размерная сетка"]})]}),t.jsxs("div",{className:"button-div-product",children:[t.jsx("div",{children:r?t.jsxs("div",{className:"add-to-basket button-product count-product",children:[t.jsx("button",{onClick:()=>{if(r>1)return p(r-1)},children:"-"}),t.jsx("span",{children:r}),t.jsx("button",{onClick:()=>{p(r+1)},children:"+"})]}):t.jsx("button",{className:"add-to-basket button-product",onClick:()=>{p(1)},children:"Добавить в корзину"})}),t.jsx(F,{onClick:()=>{p(1),P(s.id,r||!0)},to:"/placing-an-order",className:"on-click-buy button-product",children:"Купить в один клик"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",gap:"20px "},children:[t.jsxs("div",{className:"dop-info-product",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:as,children:[t.jsx("h2",{style:{margin:0},children:"Описание"}),t.jsx("span",{style:{fontSize:"24px"},children:L?t.jsx(X,{}):t.jsx(E,{})})]}),t.jsx(U,{style:{height:"auto"},children:L&&t.jsx(Y,{timeout:300,classNames:"fade",children:t.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:t.jsx("div",{style:{fontSize:"14px"},dangerouslySetInnerHTML:{__html:s==null?void 0:s.fullDescription}})})})})]}),t.jsxs("div",{className:"dop-info-product",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>is(!V),children:[t.jsx("h2",{style:{margin:0},children:"Доставка и возврат"}),t.jsx("span",{style:{fontSize:"24px"},children:V?t.jsx(X,{}):t.jsx(E,{})})]}),t.jsx(U,{style:{height:"auto"},children:V&&t.jsx(Y,{timeout:300,classNames:"fade",children:t.jsx("div",{className:"info-d-product",style:{padding:"10px 0"},children:t.jsx("div",{style:{fontSize:14},children:'Стандартная доставка занимает 3-7 рабочих дней. Экспресс-доставка возможна за дополнительную плату и займет 1-3 рабочих дня. Вернуть или обменять товары возможно в течение 14 дней с момента получения заказа. Подробности о возвратах и обменах можно найти на нашей странице "Возвраты и обмены"'})})})})]})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"header headerBox2 headerBoxProbucts",style:{marginTop:"60px"},children:[t.jsx("div",{className:"headerCom1",children:t.jsx("h1",{children:"Дополни свой образ"})}),t.jsx("div",{className:"headerCom2"})]}),t.jsx(ns,{arrDataImg:N==null?void 0:N.filter((i,c)=>c<9&&c>4)}),t.jsx(ps,{})]})]}),I.open&&t.jsx(js,{img:I.img,setImg:h,element:I.element})]})}export{Vs as default};
