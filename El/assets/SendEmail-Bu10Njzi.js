import{r as i,j as e,L as x,g as h}from"./index-Do-YQzoz.js";const u=n=>{const[o,r]=i.useState(window.matchMedia(n).matches);return i.useEffect(()=>{const l=window.matchMedia(n),s=()=>r(l.matches);return l.addEventListener("change",s),()=>l.removeEventListener("change",s)},[n]),o};function g({arrDataImg:n}){const[o,r]=i.useState(null);return e.jsx("div",{className:"box2",children:e.jsxs("div",{className:"contentBox2",children:[e.jsx("h2",{className:"sr-only",children:"Products"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-[10px] gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",style:{gap:u("(max-width: 1020px)")&&"15px 5px"},children:n?n==null?void 0:n.map((s,d)=>{var c,t;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"itemBox2 aspect-h-1 mx-auto aspect-w-1 xl:aspect-h-8 xl:aspect-w-7 relative ",children:[e.jsx(x,{to:`/product/${s==null?void 0:s.id}`,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:e.jsx("div",{className:"itemImgProduct aspect-h-1 aspect-w-1 w-full overflow-hidden bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",style:{background:`url('${o!==d?s==null?void 0:s.images[0]:(c=s==null?void 0:s.images)==null?void 0:c[1]}') center / cover no-repeat`}})},s==null?void 0:s.id),e.jsx("div",{className:"color-product",children:(t=s==null?void 0:s.attributes.find(a=>(a==null?void 0:a.productAttributeId)==1))==null?void 0:t.attributeValues.map((a,p)=>e.jsx("div",{style:{border:"1px solid",padding:"1px",borderColor:s.id==a.name.split("|")[1]?"#000":"transparent"},children:e.jsx("nav",{onClick:()=>{document.location.href=`/product/${a.name.split("|")[1]}`},style:{background:"#"+a.name.split("|")[0]}})},p))}),e.jsxs("div",{className:"itemInfoProduct",children:[e.jsx("h1",{className:"productTitle",children:s==null?void 0:s.shortDescription}),e.jsxs("div",{className:"price__div price-product",children:[s.discount!=0&&e.jsxs("h4",{className:"skitka",style:{fontSize:"16px"},children:[" ",e.jsxs(e.Fragment,{children:[s==null?void 0:s.price," ₽"]})]}),e.jsxs("h1",{className:"productPrice",style:{fontSize:"16px"},children:[s.discount!=0?s==null?void 0:s.discount:s==null?void 0:s.price," ",e.jsx("span",{style:{fontFamily:"font-book, sans-serif"},children:"₽"})]})]})]})]},d)})}):e.jsx("h1",{children:"Loading..."})})]})})}function v(){const[n,o]=i.useState(""),[r,l]=i.useState(""),s=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c),d=async c=>{if(c.preventDefault(),!s(n))l("Введите корректный email!");else{l("");const t=localStorage.getItem("token");try{const a=await h.post(`news_letter_subscriptions/${n}/deactivate`,{},{headers:{Authorization:`Bearer ${t}`}});o("")}catch(a){console.error(a)}}};return e.jsxs("div",{className:"sendEmail",children:[e.jsxs("div",{className:"sendEmailTop",children:[e.jsx("h1",{children:"Скоро новый дроп"}),e.jsx("p",{children:"Хочешь узнавать о всех новинках первый?"}),e.jsx("p",{children:"Подпишись на рассылку!"})]}),e.jsxs("form",{onSubmit:d,className:"sendEmailForm",children:[e.jsx("input",{type:"email",id:"email",onChange:c=>o(c.target.value.trim()),name:"email",placeholder:"Введите e-mail"}),r.length>0&&e.jsx("p",{className:"error-p-send-email",style:{position:"absolute",color:"red"},children:r}),e.jsx("button",{type:"submit",children:"Подписаться"})]})]})}export{g as B,v as S};
